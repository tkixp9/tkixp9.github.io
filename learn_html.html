<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>HTML LEARN</title>
    <style>
    </style>
</head>
<body>
<canvas style="border: 1px red solid;" width="600" height="300" id="canvas_src"></canvas>
<canvas style="border: 1px red solid;" width="600" height="300" id="canvas_des"></canvas>
<div onclick="start()" style="height: 20px; background: #f00;">start</div>

<script>
    var canvasSrc = document.getElementById('canvas_src');
    var contextSrc = canvasSrc.getContext('2d');
    var canvasDes = document.getElementById('canvas_des');
    var contextDes = canvasDes.getContext('2d');

    var image = new Image();
    window.onload = function () {

        image.src = './images/dj_009.jpg';
        image.onload = function () {
            contextSrc.drawImage(image, 0, 0, 259, 345);


        };
    };
    function start() {
            var imageData = contextSrc.getImageData(0, 0, 259, 345);
            for (var i = 0; i < 259; i++) {
                for (var j = 0; j < 345; j++) {
                    //imageData.data[(i * 345 + j) * 4] = 0
                   // imageData.data[(i * 345 + j) * 4 + 1] = 0
                    imageData.data[(i * 345 + j) * 4 + 2] = 0
                    //imageData.data[(i * 345 + j) * 4 + 3] = 200
                }

            }
            contextDes.putImageData(imageData, 0, 0);
    }
</script>
</body>